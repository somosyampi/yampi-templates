class a{constructor(t){var r;if(!t)throw new Error("An axios instance must be provided to SearchBuilder");this.axios=t,this.path="/v1/search/public",this.endpoint="",this.params={},this.options={},this.cancelToken=null,this.params.paginate=!0,this.params.store_id=window.merchant.id,this.params.active=!0,this.params.min_score=(r=localStorage.getItem("ROCKET_SEARCH_MIN_SCORE"))!=null?r:window.Yampi.search_min_score,this.params.aggs=!0}aggs(t){return this.params.aggs=t,this}paginate(t){return this.params.paginate=t,this}products(){return this.endpoint="/products",this}query(t){return this.params.q=t,this}include(t){return this.params.include=t,this}category(t){return this.params.category=Array.isArray(t)?t:[t],this}categories_name(t){if(!t)return this;const r=Array.isArray(t)?t.map(s=>encodeURIComponent(s)):[encodeURIComponent(t)];return this.params.categories_name=r,this}brand(t){return this.params.brand_id=Array.isArray(t)?t:[t],this}brand_name(t){if(!t)return this;const r=Array.isArray(t)?t.map(s=>encodeURIComponent(s)):[encodeURIComponent(t)];return this.params.brand_name=r,this}collectionsIds(t){return this.params.collections_ids=Array.isArray(t)?t:[t],this}tag(t){return this.params.tag=Array.isArray(t)?t:[t],this}categoryPath(t){return this.params.category_path=t,this}collectionPath(t){return this.params.collection_path=t,this}attributes(t){return typeof t!="string"||!t||t==="0"?(delete this.params.attributes,this):(this.params.attributes=t,this)}timeout(t){return this.options.timeout=t,this}withAbortController(t){return this.abortController=t,this}get(){const t={params:this.params,...this.options};return this.abortController&&(t.signal=this.abortController.signal),this.axios.get(`${this.path}${this.endpoint}`,t)}}export{a as default};
