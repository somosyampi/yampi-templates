class e{static get DELIMITER_GROUP(){return"|"}static get DELIMITER_KEY_VALUE(){return":"}static get DELIMITER_VALUES(){return";"}static stringToArray(t){return!t||typeof t!="string"?[]:t.split(e.DELIMITER_GROUP).reduce((n,E)=>{const[o,i]=E.split(e.DELIMITER_KEY_VALUE);if(o&&i){const r=o.trim();i.split(e.DELIMITER_VALUES).map(s=>s.trim()).filter(Boolean).forEach(s=>{n.push({attributeName:r,value:s})})}return n},[])}static stringToObject(t){return!t||typeof t!="string"?{}:t.split(e.DELIMITER_GROUP).reduce((n,E)=>{const[o,i]=E.split(e.DELIMITER_KEY_VALUE);if(o&&i){const r=e.decodeHtmlEntities(o.trim());n[r]=i.split(e.DELIMITER_VALUES).map(s=>e.decodeHtmlEntities(s.trim())).filter(Boolean)}return n},{})}static arrayToString(t){if(!Array.isArray(t))return"";const n=t.reduce((o,{attributeName:i,value:r})=>(o[i]||(o[i]=new Set),o[i].add(r),o),{}),E=Object.entries(n).map(([o,i])=>`${o}:${Array.from(i).map(r=>r).join(e.DELIMITER_VALUES)}`).join(e.DELIMITER_GROUP);return E?encodeURIComponent(`${E}`):""}static objectToString(t){return!t||typeof t!="object"?"":Object.entries(t).map(([n,E])=>{if(!n||!Array.isArray(E)||!E.length)return"";const o=e.encodeHtmlEntities(n.trim()),i=E.map(r=>e.encodeHtmlEntities(r.trim())).filter(Boolean).join(e.DELIMITER_VALUES);return`${o}:${i}`}).filter(Boolean).join(e.DELIMITER_GROUP)}static decodeHtmlEntities(t){if(!t)return"";const n=document.createElement("textarea");return n.innerHTML=t,n.value}static encodeHtmlEntities(t){if(!t)return"";const n=document.createElement("textarea");return n.textContent=t,n.innerHTML}static removeAttributeValue(t,n){if(!t||typeof t!="string")return"";const E=t.split(e.DELIMITER_GROUP).map(o=>{const[i,r]=o.split(e.DELIMITER_KEY_VALUE);if(!r)return o;const s=i,m=r.split(e.DELIMITER_VALUES).map(I=>I.trim()).filter(I=>I!==n);if(m.length){const I=m.map(L=>L).join(e.DELIMITER_VALUES);return`${s}:${I}`}return""}).filter(Boolean).join(e.DELIMITER_GROUP);return E?encodeURIComponent(E):""}}export{e as default};
