import _ from"../SearchBuilder.js";import{applyQueriesToUrl as g}from"../../index3.js";import"../../vue.esm.js";import"../../vuex.js";import"../../get.js";import"../../_commonjsHelpers.js";import"../../isEmpty.js";import"../../index.js";import"../axios/api.js";import"../../base.js";import"../../axios.js";import"../axios/rocket.js";import"../../lodash2.js";const c={brand_id:"brand_id",category_id:"category",q:"q",limit:"limit",page:"page",sort_by:"sort",max:"price_max",min:"price_min"},d={newest:"external_created_at",best_sellers:"total_orders",relevance:"priority",rating:"rating",highest_price:"price:desc",lowest_price:"price:asc"},E={async execute(e,t){var r;const n=new _(e).products().attributes(t==null?void 0:t.attributes).brand_name(t==null?void 0:t.brand_name).categories_name(t==null?void 0:t.categories_name).aggs((r=t==null?void 0:t.aggs)!=null?r:!0).include(t==null?void 0:t.include);return Object.entries(t).forEach(([o,i])=>{if(!(Array.isArray(i)&&i.length===0)&&!(i==null||i==="")&&!!c[o]){if(o==="sort_by"&&d[i]){n.params[c[o]]=d[i];return}n.params[c[o]]=i}}),(await n.get()).data}},M={async execute(e,t){const n=g(window.location.pathname,t),{data:p}=await e.get(n);return`<div>${p}</div>`}};export{E as builderSearch,M as urlSearch};
